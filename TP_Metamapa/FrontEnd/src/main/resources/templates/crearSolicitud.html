<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{layout/base :: head (title='Solicitud - Metamapa')}">
</head>
<body class="bg-pastel-blue-50 flex flex-col min-h-screen">
<div th:replace="~{layout/base :: header}"></div>
<main class="container mx-auto px-4 py-8 flex-grow flex flex-col">
        <div class="container mx-auto py-8 px-4">
            <h2 class="text-3xl font-bold tracking-tight text-pastel-blue-900 mb-8 text-center">
                Solicitar Eliminación de Hecho
            </h2>
            <h2></h2>
            <div class="grid md:grid-cols-2 gap-6 items-start mx-auto max-w-4xl">

                <div class="md:w-full">
                    <h3 class="text-xl fon  t-semibold text-gray-700 mb-4">Hecho a Eliminar</h3>

                    <div th:replace="~{fragments/hechoCard :: hechoCard(hecho=${hecho}, showOptions=false)}">
                    </div>

                    <div class="mt-4 text-sm text-gray-500">
                        <p>Revise los detalles del hecho para el cual está generando la solicitud de eliminación.</p>
                    </div>
                </div>

                <div class="md:w-full">
                    <div class="p-6 bg-white rounded-lg shadow-md border border-pastel-blue-200 h-full">
                        <h3 class="text-xl font-semibold text-gray-700 mb-4">Motivo de la Solicitud</h3>

                        <form th:action="@{/crearSolicitud}" th:object="${solicitudDTO}" method="post">

                            <input type="hidden" th:field="*{idHecho}" />

                            <div class="space-y-4">
                                <div>
                                    <label for="motivo" class="block text-sm font-medium text-gray-700 mb-2">
                                        Describa detalladamente el motivo por el cual este hecho debería ser eliminado:
                                    </label>
                                    <textarea id="motivo" th:field="*{motivo}" rows="8"
                                              class="w-full px-3 py-2 text-gray-700 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pastel-blue-500 transition-all shadow-sm resize-none"
                                              placeholder="Ej: Contiene información falsa, es ofensivo, etc. (Máximo 500 caracteres)."
                                              required
                                              maxlength="500"></textarea>
                                </div>

                                <button type="submit"
                                        class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-pastel-blue-600 hover:bg-pastel-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pastel-blue-500 transition-colors">
                                    Enviar Solicitud de Eliminación
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

</main>
<div th:replace="~{layout/base :: footer}"></div>
<script th:inline="javascript">
    /*<![CDATA[*/

    // Obtiene el mensaje de error si existe en el Modelo (gracias al Flash Attribute)
    var errorMessage = /*[[${errorMessage}]]*/ '';

    if (errorMessage && errorMessage !== '') {
        // Muestra un popup (usando la función nativa 'alert' para simplicidad)
        alert('ERROR: ' + errorMessage);

        // Si usas una librería como SweetAlert o un modal, aquí iría el código
        // Ej: Swal.fire('Error', errorMessage, 'error');
    }

    /*]]>*/
</script>

</body>
</html>
